<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Máquina de Premios</title>

    <style>
        body {
            font-family: "Arial", sans-serif;
            background-color: #222;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        h1 {
            font-size: 36px;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .cajas {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .ventana {
            width: 50px;
            height: 100px;
            overflow: hidden;
            position: relative;
            border: 1px solid #fff;
        }

        .numero-container {
            position: absolute;
            top: 0;
            animation: rotate 1s linear infinite;
            animation-play-state: paused; /* Inicialmente pausado */
        }

        .numero {
            font-size: 24px;
            text-align: center;
            padding: 5px;
            border: none;
            background-color: #333;
            color: #fff;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes rotate {
            0%, 100% {
                transform: translateY(0);
            }
            25% {
                transform: translateY(-100%);
            }
            50% {
                transform: translateY(-200%);
            }
            75% {
                transform: translateY(-300%);
            }
        }

        input[type="button"] {
            font-size: 24px;
            background-color: #ff6c00;
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        input[type="button"]:hover {
            background-color: #ff9800;
        }

        #bandeja {
            font-size: 36px;
            font-weight: bold;
            color: #ff6c00;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
    </style>

    <script type="text/javascript">
        var dinero = 100;
        var contador = 0;
        var premio = 0;
        var jugada = 0;
        var animacionIniciada = false; // Para rastrear si se ha iniciado la animación

        function iniciarAnimacion() {
            if (!animacionIniciada) {
                document.querySelectorAll('.numero-container').forEach(function (container) {
                    container.style.animationPlayState = 'running'; // Iniciar la animación
                });
                animacionIniciada = true; // Marcar que se ha iniciado la animación
            }
        }

        function detenerAnimacion() {
            if (animacionIniciada) {
                document.querySelectorAll('.numero-container').forEach(function (container) {
                    container.style.animationPlayState = 'paused'; // Pausar la animación
                });
                animacionIniciada = false; // Marcar que se ha detenido la animación
            }
        }

        function jugar() {
            iniciarAnimacion(); // Iniciar la animación al hacer clic en "Jugar"

            // Retrasar la actualización de los números y la alerta de premio
            setTimeout(function () {
                var num1 = Math.floor(Math.random() * 10);
                var num2 = Math.floor(Math.random() * 10);
                var num3 = Math.floor(Math.random() * 10);

                document.getElementById("numero1").textContent = num1;
                document.getElementById("numero2").textContent = num2;
                document.getElementById("numero3").textContent = num3;

                contador = 0;
                if (num1 === 7) contador++;
                if (num2 === 7) contador++;
                if (num3 === 7) contador++;

                if (contador === 0) {
                    premio = -1;
                } else if (contador === 1) {
                    premio = 0;
                } else if (contador === 2) {
                    premio = 4;
                } else if (contador === 3) {
                    premio = 49;
                }

                dinero = dinero + premio;

                document.getElementById("bandeja").value = dinero;

                alert("Has obtenido " + premio + " euros en esta jugada.");

                // Detener la animación después de mostrar el premio
                setTimeout(detenerAnimacion, 2000); // Detener la animación después de 2 segundos
            }, 3000); // Retrasar la actualización de los números durante 3 segundos
        }
    </script>
</head>
<body>
    <h1>Máquina de Premios</h1>
    <div class="cajas">
        <div class="ventana">
            <div class="numero-container" id="numero1">
                <div class="numero">0</div>
            </div>
        </div>

        <div class="ventana">
            <div class="numero-container" id="numero2">
                <div class="numero">0</div>
            </div>
        </div>

        <div class="ventana">
            <div class="numero-container" id="numero3">
                <div class="numero">0</div>
            </div>
        </div>
    </div>
    <input type="button" id="boton" value="Jugar" onclick="jugar()" /><br />

    <label for="bandeja">Bandeja del Premio:</label>
    <input type="text" id="bandeja" name="bandeja" value="100" readonly/><br />
</body>
</html>
 